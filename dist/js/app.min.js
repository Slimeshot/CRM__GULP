!function(){"use strict";document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("addLead"),e=document.querySelector(".funnel__addLead"),n=document.querySelector(".funnel__form-name"),c=document.querySelector(".funnel__form-phone"),d=document.querySelector(".funnel__form-service"),a=document.querySelector(".funnel__form-price"),s=document.querySelector(".funnel__form-select"),i=document.getElementById("sendFormLead"),r=document.getElementById("workColumn"),o=document.querySelectorAll(".card"),l=document.querySelector(".map"),u=document.querySelector(".filter"),v=document.querySelector(".task"),m=document.querySelectorAll("[data-closeCall]"),f=document.querySelectorAll("[data-closeTask]"),L=document.querySelectorAll("[data-closeFilter]"),_=document.querySelectorAll("[data-openTask]"),y=document.querySelector(".header__button"),E=document.querySelector(".header__button-search"),h=document.querySelector(".header__closeBtn"),g=document.querySelector(".header__search"),p=document.querySelector(".map__task"),q=document.querySelector(".task__closeTask"),S=document.querySelector(".map__newTask");function k(){document.body.classList.add("BodyOverflow"),l.classList.add("active")}function b(){document.body.classList.add("BodyOverflow"),v.classList.add("active")}function A(){document.body.classList.remove("BodyOverflow"),u.classList.remove("active")}function B(){var t=!0;0==n.value.length&&(t=!1),0==c.value.length&&(t=!1),0==d.value.length&&(t=!1),0==a.value.length&&(t=!1),t?i.removeAttribute("disabled"):i.setAttribute("disabled","true")}p&&(p.addEventListener("click",(function(){S.classList.add("active")})),q.addEventListener("click",(function(){S.classList.remove("active")}))),E&&(E.addEventListener("click",(function(){E.classList.add("active"),g.classList.add("active")})),h.addEventListener("click",(function(){E.classList.remove("active"),g.classList.remove("active")}))),y&&y.addEventListener("click",(function(t){u.classList.contains("active")?A():(document.body.classList.add("BodyOverflow"),u.classList.add("active"))})),o.forEach((function(t){t.addEventListener("click",k)})),m.forEach((function(t){t.addEventListener("click",(function(e){e.target===t&&(document.body.classList.remove("BodyOverflow"),l.classList.remove("active"))}))})),_.forEach((function(t){t.addEventListener("click",b)})),f.forEach((function(t){t.addEventListener("click",(function(e){e.target===t&&(document.body.classList.remove("BodyOverflow"),v.classList.remove("active"))}))})),L.forEach((function(t){t.addEventListener("click",(function(e){e.target===t&&A()}))})),t.addEventListener("click",(function(){e.classList.toggle("active")})),n.addEventListener("input",B),c.addEventListener("input",B),d.addEventListener("input",B),a.addEventListener("input",B),i.addEventListener("click",(function(){var t,o,l,u,v,m,f;t=n.value,o=c.value,l=d.value,u=a.value,v=s.value,m='\n\t\t\t<div class="card__client">\n\t\t\t\t<div class="card__name">'.concat(t,'</div>\n\t\t\t\t<div class="card__phone">').concat(o,'</div>\n\t\t\t</div>\n\t\t\t<div class="card__info">\n\t\t\t\t<div class="card__finance">\n\t\t\t\t\t<img src="images/dist/icons/service.svg" alt="">\n\t\t\t\t\t<div class="card__group">\n\t\t\t\t\t\t<div class="card__service">').concat(l,'</div>\n\t\t\t\t\t\t<div class="card__price">').concat(u,' ₽</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="card__liable">\n\t\t\t\t\t<img src="images/dist/icons/card.svg" alt="">\n\t\t\t\t\t<div class="card__group">\n\t\t\t\t\t\t<div class="card__responsible-name">').concat(v,'</div>\n\t\t\t\t\t\t<div class="card__responsible">Ответственный</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t'),(f=document.createElement("div")).classList.add("funnel__card"),f.classList.add("card"),f.setAttribute("draggable","true"),f.innerHTML=m,r.append(f),n.value="",c.value="",d.value="",a.value="",s.value="value1",e.classList.remove("active"),i.setAttribute("disabled","true"),w()}));var w=function(){var t,e=document.querySelectorAll(".card"),n=document.querySelectorAll(".funnel__work"),c=function(){var e=this;t=this,setTimeout((function(){e.classList.add("hide")}),0)},d=function(){this.classList.remove("hide")},a=function(t){t.preventDefault()},s=function(t){t.preventDefault(),this.classList.add("hovered")},i=function(){this.classList.remove("hovered")},r=function(){this.append(t),this.classList.remove("hovered")};n.forEach((function(t){t.addEventListener("dragover",a),t.addEventListener("dragenter",s),t.addEventListener("dragleave",i),t.addEventListener("drop",r)})),e.forEach((function(t){t.addEventListener("dragstart",c),t.addEventListener("dragend",d)}))};w()}))}();